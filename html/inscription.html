<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Inscription</title>
    <link rel="stylesheet" href="../style/style.css">
    <link rel="icon" href="../img/logo.png" type="image/x-icon">
    <script language="JavaScript">
        function verif() {
            // Récupérer tous les champs du formulaire
            var email = document.getElementById('email').value;
            var motdepasse = document.getElementById('motdepasse').value;
            var nom = document.getElementById('nom').value;
            var prenom = document.getElementById('prenom').value;
            var adresse = document.getElementById('adresse').value;
            var datenaissance = document.getElementById('datenaissance').value;
            var formulaire = document.getElementsByClassName('formulaire')[0];

            // Vérifier si tous les champs sont remplis
            if (email !== '' && motdepasse !== '' && nom !== '' && prenom !== '' && adresse !== '' && datenaissance !== '') {
                // Vérifier la présence du caractère "@" dans l'email
                if (email.includes('@')) {
                    // Vérifier la longueur du mot de passe
                    if (motdepasse.length > 8) {
                        // Vérifier l'âge (13 ans ou plus)
                        var dateNaissanceObj = new Date(datenaissance);
                        var dateLimiteAge = new Date();
                        dateLimiteAge.setFullYear(dateLimiteAge.getFullYear() - 13);
                        if (dateNaissanceObj <= dateLimiteAge) {
                            // Vérifier la validité de la date de naissance
                            var dateLimiteInf = new Date('1800-01-01'); // Date limite inférieure (1800)
                            var dateLimiteSup = new Date(); // Date limite supérieure (aujourd'hui)

                            // Vérifier si la date est entre 1800 et aujourd'hui
                            if (dateNaissanceObj >= dateLimiteInf && dateNaissanceObj <= dateLimiteSup) {
                                // Si tout est ok, soumettre le formulaire
                                formulaire.submit();
                            } else {
                                alert('La date de naissance n\'est pas valide. Veuillez entrer une date valide.');
                            }
                        } else {
                            alert('Vous devez avoir au moins 13 ans pour vous inscrire.');
                        }
                    } else {
                        alert('Le mot de passe doit faire plus de 8 caractères.');
                    }
                } else {
                    alert('L\'adresse email doit être valide.');
                }
            } else {
                alert('Veuillez remplir tous les champs.');
            }
        }
    </script>
</head>

<body>
<nav class="navbar">
    <a href="../index.php"><img src="../img/logo.png" alt="logo"></a>
    <h1>Céramique</h1>
    <div class="navright">
        <a href="../php/panier.php"><img src="../img/shopping-cart.svg" alt="panier"></a>
        <a href="inscription.html">Inscription</a>
        <a href="connexion.html">Connexion</a>
    </div>
</nav>

<div class="login-page">
    <div class="login-box">
        <h2>Inscription</h2>
        <form class="formulaire" action="../php/inscription.php" method="post" enctype="multipart/form-data">

            <div class="user-box">
                <input type="email" id="email" name="email" required>
                <label>Adresse e-mail</label>
            </div>
            <div class="user-box">
                <input type="password" id="motdepasse" name="motdepasse" required>
                <label>Mot de passe</label>
            </div>
            <div class="user-box">
                <input type="text" id="nom" name="nom" required>
                <label>Nom</label>
            </div>
            <div class="user-box">
                <input type="text" id="prenom" name="prenom" required>
                <label>Prénom</label>
            </div>
            <div class="user-box">
                <input type="text" id="adresse" name="adresse" required>
                <label>Adresse</label>
            </div>
            <div class="user-box">
                <input type="date" id="datenaissance" name="datenaissance" required>
            </div>
            <div class="user-box">
                <input type="file" name="photo_profil" accept="image/*">
            </div>
            <a href="#" onclick="verif()">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                Valider
            </a>
        </form>
    </div>
</div>

<footer>
    <a class="contact" href="contact.html">Contact</a>
    <a class="apropos" href="aProrpos.html">À propos</a>
</footer>

</body>
</html>
